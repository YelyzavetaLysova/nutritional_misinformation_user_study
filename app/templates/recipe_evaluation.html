<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recipe Evaluation - Recipe Feasibility Study</title>
    <link rel="stylesheet" href="{{ url_for('static', path='/css/style.css') }}">
</head>
<body>
    <div class="mobile-container">
        <header>
            <h1>Recipe Evaluation</h1>
        </header>
        <main>
            {% set progress_percent = (step / 7) * 100 %}
            <div class="progress-bar">
                <div class="progress" style="width: {{ progress_percent }}%"></div>
            </div>
            <p class="progress-text">Step {{ step + 1 }} of 7</p>
            
            <div class="instruction-box">
                <p>Presented below is a recipe of a dish, with ingredients, instructions, and nutrients. 
                    Please read it carefully and afterwards answer the questions at the bottom of the page.</p>
            </div>
            
            <div class="recipe-card">
                <h2>{{ recipe["Recipe Name"] }}</h2>
                
                <div class="recipe-details">
                    {% if recipe["Description"] %}
                    <p class="recipe-description">{{ recipe["Description"] }}</p>
                    {% endif %}
                    
                    <div class="recipe-section">
                        <h3>Ingredients</h3>
                        <p>{{ recipe["Ingredients"] }}</p>
                    </div>
                    
                    <div class="recipe-section">
                        <h3>Instructions</h3>
                        <p>{{ recipe["Instructions"] }}</p>
                    </div>
                    
                    <div class="recipe-nutrition">
                        <h3>Nutrition Information</h3>
                        <ul>
                            <li><strong>Calories:</strong> {{ recipe["Energy(kcal)"] }}</li>
                            <li><strong>Protein:</strong> {{ recipe["Protein(g)"] }}g</li>
                            <li><strong>Carbohydrates:</strong> {{ recipe["Carbohydrates(g)"] }}g</li>
                            <li><strong>Fat:</strong> {{ recipe["Fat(g)"] }}g</li>
                            {% if recipe["Dietary Fiber(g)"] %}
                            <li><strong>Dietary Fiber:</strong> {{ recipe["Dietary Fiber(g)"] }}g</li>
                            {% endif %}
                            {% if recipe["Sugar(g)"] %}
                            <li><strong>Sugar:</strong> {{ recipe["Sugar(g)"] }}g</li>
                            {% endif %}
                            {% if recipe["Sodium(mg)"] %}
                            <li><strong>Sodium:</strong> {{ recipe["Sodium(mg)"] }}mg</li>
                            {% endif %}
                        </ul>
                    </div>
                </div>
            </div>
            
            <form action="/recipe_eval_{{ step }}" method="post" class="survey-form">
                <input type="hidden" name="recipe_name" value="{{ recipe['Recipe Name'] }}">
                
                <div class="rating-group correctness-details">
                    <label>How would you rate the clarity of this recipe?</label>
                    <div class="rating-scale">
                        <div style="width: 100%;">
                            <div style="display: flex; width: 100%; margin-bottom: 5px;">
                                <span style="flex: 0 0 auto; text-align: left; width: 120px;">Not at all clear</span>
                                <div style="flex: 1;"></div>
                                <span style="flex: 0 0 auto; text-align: right; width: 120px;">Very clear</span>
                            </div>
                            <div style="display: flex; width: 100%; justify-content: space-between; align-items: center;">
                                {% for i in range(1, 8) %}
                                <div class="rating-option" style="display: flex; flex-direction: column; align-items: center;">
                                    <input type="radio" id="clarity_{{ i }}" name="clarity_rating" value="{{ i }}" required>
                                    <label for="clarity_{{ i }}" style="margin-top: 5px;">{{ i }}</label>
                                </div>
                                {% endfor %}
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="rating-group correctness-details">
                    <label>How complete is this recipe?</label>
                    <div class="rating-scale">
                        <div style="width: 100%;">
                            <div style="display: flex; width: 100%; margin-bottom: 5px;">
                                <span style="flex: 0 0 auto; text-align: left; width: 120px;">Very incomplete</span>
                                <div style="flex: 1;"></div>
                                <span style="flex: 0 0 auto; text-align: right; width: 120px;">Very complete</span>
                            </div>
                            <div style="display: flex; width: 100%; justify-content: space-between; align-items: center;">
                                {% for i in range(1, 8) %}
                                <div class="rating-option" style="display: flex; flex-direction: column; align-items: center;">
                                    <input type="radio" id="completeness_{{ i }}" name="completeness_rating" value="{{ i }}" required>
                                    <label for="completeness_{{ i }}" style="margin-top: 5px;">{{ i }}</label>
                                </div>
                                {% endfor %}
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="rating-group correctness-details">
                    <label>How correct is this recipe overall?</label>
                    <div class="rating-scale">
                        <div style="width: 100%;">
                            <div style="display: flex; width: 100%; margin-bottom: 5px;">
                                <span style="flex: 0 0 auto; text-align: left; width: 120px;">Not at all correct</span>
                                <div style="flex: 1;"></div>
                                <span style="flex: 0 0 auto; text-align: right; width: 120px;">Very correct</span>
                            </div>
                            <div style="display: flex; width: 100%; justify-content: space-between; align-items: center;">
                                {% for i in range(1, 8) %}
                                <div class="rating-option" style="display: flex; flex-direction: column; align-items: center;">
                                    <input type="radio" id="correctness_{{ i }}" name="correctness_rating" value="{{ i }}" required>
                                    <label for="correctness_{{ i }}" style="margin-top: 5px;">{{ i }}</label>
                                </div>
                                {% endfor %}
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="rating-group correctness-details">
                    <label>How would you rate healthiness of this recipe?</label>
                    <div class="rating-scale">
                        <div style="width: 100%;">
                            <div style="display: flex; width: 100%; margin-bottom: 5px;">
                                <span style="flex: 0 0 auto; text-align: left; width: 120px;">Not at all healthy</span>
                                <div style="flex: 1;"></div>
                                <span style="flex: 0 0 auto; text-align: right; width: 120px;">Very healthy</span>
                            </div>
                            <div style="display: flex; width: 100%; justify-content: space-between; align-items: center;">
                                {% for i in range(1, 8) %}
                                <div class="rating-option" style="display: flex; flex-direction: column; align-items: center;">
                                    <input type="radio" id="healthiness_{{ i }}" name="healthiness_rating" value="{{ i }}" required>
                                    <label for="healthiness_{{ i }}" style="margin-top: 5px;">{{ i }}</label>
                                </div>
                                {% endfor %}
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="rating-group correctness-details">
                    <label>How tasty do you think this recipe would be?</label>
                    <div class="rating-scale">
                        <div style="width: 100%;">
                            <div style="display: flex; width: 100%; margin-bottom: 5px;">
                                <span style="flex: 0 0 auto; text-align: left; width: 120px;">Not at all tasty</span>
                                <div style="flex: 1;"></div>
                                <span style="flex: 0 0 auto; text-align: right; width: 120px;">Very tasty</span>
                            </div>
                            <div style="display: flex; width: 100%; justify-content: space-between; align-items: center;">
                                {% for i in range(1, 8) %}
                                <div class="rating-option" style="display: flex; flex-direction: column; align-items: center;">
                                    <input type="radio" id="tastiness_{{ i }}" name="tastiness_rating" value="{{ i }}" required>
                                    <label for="tastiness_{{ i }}" style="margin-top: 5px;">{{ i }}</label>
                                </div>
                                {% endfor %}
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="rating-group correctness-details">
                    <label>Rate the complexness of each component: ingredients, instructions</label>
                    
                    <div class="subrating">
                        <label>Ingredients list complexness:</label>
                        <div class="rating-scale">
                            <div style="width: 100%;">
                                <div style="display: flex; width: 100%; margin-bottom: 5px;">
                                    <span style="flex: 0 0 auto; text-align: left; width: 120px;">Poor</span>
                                    <div style="flex: 1;"></div>
                                    <span style="flex: 0 0 auto; text-align: right; width: 120px;">Excellent</span>
                                </div>
                                <div style="display: flex; width: 100%; justify-content: space-between; align-items: center;">
                                    {% for i in range(1, 8) %}
                                    <div class="rating-option" style="display: flex; flex-direction: column; align-items: center;">
                                        <input type="radio" id="ingredients_complexity_{{ i }}" name="ingredients_complexity" value="{{ i }}" required>
                                        <label for="ingredients_complexity_{{ i }}" style="margin-top: 5px;">{{ i }}</label>
                                    </div>
                                    {% endfor %}
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="subrating">
                        <label>Instructions complexness:</label>
                        <div class="rating-scale">
                            <div style="width: 100%;">
                                <div style="display: flex; width: 100%; margin-bottom: 5px;">
                                    <span style="flex: 0 0 auto; text-align: left; width: 120px;">Poor</span>
                                    <div style="flex: 1;"></div>
                                    <span style="flex: 0 0 auto; text-align: right; width: 120px;">Excellent</span>
                                </div>
                                <div style="display: flex; width: 100%; justify-content: space-between; align-items: center;">
                                    {% for i in range(1, 8) %}
                                    <div class="rating-option" style="display: flex; flex-direction: column; align-items: center;">
                                        <input type="radio" id="instructions_complexity_{{ i }}" name="instructions_complexity" value="{{ i }}" required>
                                        <label for="instructions_complexity_{{ i }}" style="margin-top: 5px;">{{ i }}</label>
                                    </div>
                                    {% endfor %}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="rating-group correctness-details">
                    <label>Please rate the correctness of each component:</label>
                    
                    <div class="subrating">
                        <label>Ingredients list correctness:</label>
                        <div class="rating-scale">
                            <div style="width: 100%;">
                                <div style="display: flex; width: 100%; margin-bottom: 5px;">
                                    <span style="flex: 0 0 auto; text-align: left; width: 120px;">Poor</span>
                                    <div style="flex: 1;"></div>
                                    <span style="flex: 0 0 auto; text-align: right; width: 120px;">Excellent</span>
                                </div>
                                <div style="display: flex; width: 100%; justify-content: space-between; align-items: center;">
                                    {% for i in range(1, 8) %}
                                    <div class="rating-option" style="display: flex; flex-direction: column; align-items: center;">
                                        <input type="radio" id="ingredients_correctness_{{ i }}" name="ingredients_correctness" value="{{ i }}" required>
                                        <label for="ingredients_correctness_{{ i }}" style="margin-top: 5px;">{{ i }}</label>
                                    </div>
                                    {% endfor %}
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="subrating">
                        <label>Instructions correctness:</label>
                        <div class="rating-scale">
                            <div style="width: 100%;">
                                <div style="display: flex; width: 100%; margin-bottom: 5px;">
                                    <span style="flex: 0 0 auto; text-align: left; width: 120px;">Poor</span>
                                    <div style="flex: 1;"></div>
                                    <span style="flex: 0 0 auto; text-align: right; width: 120px;">Excellent</span>
                                </div>
                                <div style="display: flex; width: 100%; justify-content: space-between; align-items: center;">
                                    {% for i in range(1, 8) %}
                                    <div class="rating-option" style="display: flex; flex-direction: column; align-items: center;">
                                        <input type="radio" id="instructions_correctness_{{ i }}" name="instructions_correctness" value="{{ i }}" required>
                                        <label for="instructions_correctness_{{ i }}" style="margin-top: 5px;">{{ i }}</label>
                                    </div>
                                    {% endfor %}
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="subrating">
                        <label>Nutrition information correctness:</label>
                        <div class="rating-scale">
                            <div style="width: 100%;">
                                <div style="display: flex; width: 100%; margin-bottom: 5px;">
                                    <span style="flex: 0 0 auto; text-align: left; width: 120px;">Poor</span>
                                    <div style="flex: 1;"></div>
                                    <span style="flex: 0 0 auto; text-align: right; width: 120px;">Excellent</span>
                                </div>
                                <div style="display: flex; width: 100%; justify-content: space-between; align-items: center;">
                                    {% for i in range(1, 8) %}
                                    <div class="rating-option" style="display: flex; flex-direction: column; align-items: center;">
                                        <input type="radio" id="nutrition_correctness_{{ i }}" name="nutrition_correctness" value="{{ i }}" required>
                                        <label for="nutrition_correctness_{{ i }}" style="margin-top: 5px;">{{ i }}</label>
                                    </div>
                                    {% endfor %}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="rating-group correctness-details">
                    <label>How feasible would it be for you to make this recipe at home?</label>
                    <div class="rating-scale">
                        <div style="width: 100%;">
                            <div style="display: flex; width: 100%; margin-bottom: 5px;">
                                <span style="flex: 0 0 auto; text-align: left; width: 120px;">Not at all feasible</span>
                                <div style="flex: 1;"></div>
                                <span style="flex: 0 0 auto; text-align: right; width: 120px;">Very feasible</span>
                            </div>
                            <div style="display: flex; width: 100%; justify-content: space-between; align-items: center;">
                                {% for i in range(1, 8) %}
                                <div class="rating-option" style="display: flex; flex-direction: column; align-items: center;">
                                    <input type="radio" id="feasibility_{{ i }}" name="feasibility_rating" value="{{ i }}" required>
                                    <label for="feasibility_{{ i }}" style="margin-top: 5px;">{{ i }}</label>
                                </div>
                                {% endfor %}
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="rating-group correctness-details">
                    <label>How would you rate the overall attractiveness of this recipe?</label>
                    <div class="rating-scale">
                        <div style="width: 100%;">
                            <div style="display: flex; width: 100%; margin-bottom: 5px;">
                                <span style="flex: 0 0 auto; text-align: left; width: 120px;">Very poor</span>
                                <div style="flex: 1;"></div>
                                <span style="flex: 0 0 auto; text-align: right; width: 120px;">Excellent</span>
                            </div>
                            <div style="display: flex; width: 100%; justify-content: space-between; align-items: center;">
                                {% for i in range(1, 8) %}
                                <div class="rating-option" style="display: flex; flex-direction: column; align-items: center;">
                                    <input type="radio" id="quality_{{ i }}" name="quality_rating" value="{{ i }}" required>
                                    <label for="quality_{{ i }}" style="margin-top: 5px;">{{ i }}</label>
                                </div>
                                {% endfor %}
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="rating-group correctness-details">
                    <label>How likely it is that you would prepare this recipe?</label>
                    <div class="rating-scale">
                        <div style="width: 100%;">
                            <div style="display: flex; width: 100%; margin-bottom: 5px;">
                                <span style="flex: 0 0 auto; text-align: left; width: 120px;">Very unlikely</span>
                                <div style="flex: 1;"></div>
                                <span style="flex: 0 0 auto; text-align: right; width: 120px;">Very likely</span>
                            </div>
                            <div style="display: flex; width: 100%; justify-content: space-between; align-items: center;">
                                {% for i in range(1, 8) %}
                                <div class="rating-option" style="display: flex; flex-direction: column; align-items: center;">
                                    <input type="radio" id="would_make_{{ i }}" name="would_make" value="{{ i }}" required>
                                    <label for="would_make_{{ i }}" style="margin-top: 5px;">{{ i }}</label>
                                </div>
                                {% endfor %}
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="comments">Any additional comments about this recipe? (Optional)</label>
                    <textarea id="comments" name="comments" rows="3"></textarea>
                </div>
                
                <button type="submit" class="btn-primary">Continue</button>
            </form>
        </main>
        <footer>
            <p>Â© 2025 Recipe Feasibility Study</p>
        </footer>
    </div>
</body>
</html>
